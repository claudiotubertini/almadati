
{% extends "router_dashboard.html" %}
{% block content %}
<div class="card border-0">
<div class="overflow-visible">
<div hx-ext="response-targets">
<div id="docente_row" >
    <h3  class="mt-3 mb-0">Gestione docenti</h3>
  <h6>Se si vuole eliminare un valore sostituirlo con 0 oppure con -.</h6>

      <table class="table-responsive small" style="width: 100%; height: 100%;">
        <thead>
          <thead><tr><th colspan="3"><input _="on input
            show <tbody>tr/> in closest <table/>
              when its textContent.toLowerCase() contains my value.toLowerCase()
           "/></th></tr>
           <tr>
            <th scope="col">Id</th>
            <th scope="col">Università</th>
            <th scope="col">Facoltà</th>
            <th scope="col">SSD</th>
            <th scope="col">Insegnamento</th>
            <th scope="col">Nome</th>
            <th scope="col">URL personale</th>
            <th scope="col">prof_id</th>
            <th scope="col">insegnamento_id</th>
            <th scope="col">email</th>
            <th scope="col">Indirizzo</th>
            <th scope="col">Città</th>
            <th scope="col">Telefono</th>
            <th scope="col">Note</th>
            <th scope="col">ISBN</th>
            <th scope="col">Titolo</th>
            <th scope="col">Data</th>
            <th scope="col">Edit</th>
            <th scope="col">Aggiungi</th>
          </tr></thead>
        </thead>
        
        <tbody hx-target="closest tr" hx-swap="outerHTML">
         
            
          {% for item in contacts %}
          <!-- style="word-wrap: break-word;min-width: 80px;max-width: 80px;" -->
        <tr class="editing">
          <td>{{ item.rowid }}</td>
          <td>{{ item.uni_cod }}</td>
          <td>{{ item.facolta }}</td>
          <td>{{ item.materia_ssd_cod }}</td>
          <td>{{ item.materia_nome }}</td>
          <td>{{ item.insegnamento_prof }}</td>
          <td >{{ item.insegnamento_prof_www }}</td>
          <td>{{ item.prof_id }}</td>
          <td>{{ item.insegnamento_id }}</td>
          <td>{{ item.email }}</td>
          <td>{{ item.indirizzo }}</td>
          <td>{{ item.citta }}</td>
          <td>{{ item.telefono }}</td>
          <td>{{ item.note }}</td>
          <td>{{ item.isbn }}</td>
          <td>{{ item.titolo }}</td>
          <td>{{ item.data }}</td>
          <td> <button class="btn btn-outline-danger btn-sm"
            hx-get="/router_docenti/edit/{{ item.rowid }}"
            hx-include="closest tr">
        Edit
        </button></td>
        <td> <button class="btn btn-outline-warning btn-sm"
          hx-get="/router_edit_docenti/add/{{ item.prof_id }}"
          hx-include="closest tr">
      Aggiungi
      </button></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
     
</div>

    <div class="row mt-3">
      <p>Se vuoi continuare ad aggiornare i dati dei docenti con un altro programma
        puoi scaricare tutti i dati e ricaricarli, una volta terminato il lavoro di editing, nella pagina <a href="/router_uploadfile">Carica file docenti</a>. </p>
      
         <form method="get" action="/csv_docenti_router/aggiornati">
          <button type="submit" class="btn btn-success">Scarica tutti i records</button>
       </form>
     
    </div>
    <div id="any-errors" class="alert-danger h6 mt-3" role="alert"></div>
    <script>
      // $(document).ready(function () {     
      //     htmx.process(htmx.find("tr.editing"));
      // });
  </script>
</div>
</div>
</div>
{% endblock %}
